<!--
  Main page - DBL Visualization
  Authors: Heleen van Dongen, Veerle Uhl, Quinn van Rooy, Geert Wood, Hieke van Heesch, Martijn van Kekem.
-->

<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>DBL Visualization</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/arcdiagram.css">
    <link rel="stylesheet" href="css/adjacencymatrix.css">
    <link rel="stylesheet" href="css/spinner.css">
  </head>
  <body>

	<!-- Upload Header -->
		<header>
			<div class="wrapper">
				<h1>Visualisations<span class="color">.</span></h1>
				<nav>
					<ul>
						<li><a href="index.html"><button>Home</button></a></li>
						<li><a href="visualizations.html"><button>Visualizations</button></a></li>
						<li><a href="backgroundinfo.html"><button>Background Info</button></a></li>
					</ul>
				</nav>
			</div>
		</header>


    <!-- Visualisations -->
    <canvas class="visualisation" id="canvas"></canvas>
    <div class="visualisation" id="visContainer">
      <svg class="vissvg" width="1900px" height="1900px"></svg>
      <div id="hoverContainer" class="hoverContainer">
        <div class="content">
          <h3>Information<span class="color">.</span></h3>
          <p>Sender: <span id="senderLabel"></span></p>
          <p>Recipient: <span id="recipientLabel"></span></p>
          <p id="hover_notraffic">There is no e-mail traffic between these nodes.</p>
          <div id="hover_hastraffic">
            <p>Average sentiment: <span id="sentimentLabel"></span></p>
            <p>Total e-mails: <span id="totalLabel"></span></p>
          </div>
        </div>
      </div>
    </div>

    <!-- Loading spinner -->
    <div class="spinner" id="spinner" style="display: none;">
      <div class="container" txt="Loading...">
        <div class="lds-dual-ring"></div>
      </div>
    </div>

    <!-- Upload container -->
    <div class="uploadContainer" id="uploadContainer">
      <div class="container">
        <h1>Upload a file to begin.</h1>
        <p>Required attributes: fromEmail, fromJobtitle, toEmail, toJobtitle, sentiment, messageType.</p>

        <!-- Upload form -->
        <form id="uploadForm" action="php/uploadFile.php" method="POST">
            <input type="file" accept=".csv" id="csvFile" name="csvFile" required><br /><br />
            <input type="submit" id="submit" name="submit" value="Upload" />
        </form>
      </div>
    </div>


    <!-- Javscript-->
    <!-- Libraries -->
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Custom code -->
    <script src="js/app.js"></script>
    <script src="js/arcdiagram.js"></script>
    <script src="js/adjacencymatrix.js"></script>

  </body>
</html>
